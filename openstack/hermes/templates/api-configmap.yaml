apiVersion: v1
kind: ConfigMap

metadata:
  name: hermes

data:
  policy.json: |
{{ .Files.Get "files/policy.json" | indent 4 }}
  hermes.conf: |
    [hermes]
    storage_driver = "mock"
    keystone_driver = "mock"

    [API]
    ListenAddress = "0.0.0.0:80"

    [elasticsearch]
    url = "{{.Values.hermes_elasticsearch_host}}:{{.Values.hermes_elasticsearch_port}}"

    [keystone_authtoken]
    # auth_uri is what we use to validate end-user tokens
    auth_uri = "{{.Values.hermes.auth_url}}"
    # auth_url is what we use to authenticate the service user to get an X-Auth-Token
    auth_url = "{{.Values.hermes.auth_url}}"
    username = "{{.Values.hermes.user_name}}"
    password = "{{.Values.hermes.password}}"
    user_domain_name = "{{.Values.hermes.user_domain_name}}"
    project_name = "{{.Values.hermes.project_name}}"
    project_domain_name = "{{.Values.hermes.project_domain_name}}"
    #token_cache_time = 900
    #memcached_servers = memcached.example.com:11211


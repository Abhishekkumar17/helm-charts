apiVersion: v1
kind: ConfigMap

metadata:
  name: hermes

data:
  policy.json: |
{{ .Files.Get "files/policy.json" | indent 4 }}
  hermes.conf: |
    [hermes]
    storage_driver = "mock"
    keystone_driver = "mock"

    [elasticsearch]
    url = "{{hermes_elasticsearch_host}}:{{hermes_elasticsearch_port}}"

    [keystone_authtoken]
    # auth_uri is what we use to validate end-user tokens
    auth_uri = "{{hermes.auth_url}}"
    # auth_url is what we use to authenticate the service user to get an X-Auth-Token
    auth_url = "{{hermes.auth_url}}"
    username = "{{hermes.user_name}}"
    password = "{{hermes.password}}"
    user_domain_name = "{{hermes.user_domain_name}}"
    project_name = "{{hermes.project_name}}"
    project_domain_name = "{{hermes.project_domain_name}}"
    #token_cache_time = 900
    #memcached_servers = memcached.example.com:11211


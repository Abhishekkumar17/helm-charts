apiVersion: v1
kind: ConfigMap
metadata:
  name: swift-etc
  labels:
    system: openstack
    service: objectstore
    component: configuration

data:
  # nginx
  dhparam.pem: |
{{ tuple "swift/templates/etc/_dhparam.pem" . | include "template" | indent 4 }}
  nginx.conf: |
{{ tuple "swift/templates/etc/_nginx.conf" . | include "template" | indent 4 }}

  # rsync
  rsyncd.conf: |
{{ tuple "swift/templates/etc/_rsyncd.conf" . | include "template" | indent 4 }}

  # Swift
  account-server.conf: |
{{ tuple "swift/templates/etc/_account-server.conf" . | include "template" | indent 4 }}
  container-reconciler.conf: |
{{ tuple "swift/templates/etc/_container-reconciler.conf" . | include "template" | indent 4 }}
  container-server.conf: |
{{ tuple "swift/templates/etc/_container-server.conf" . | include "template" | indent 4 }}
  container-sync-internal-client.conf: |
{{ tuple "swift/templates/etc/_container-sync-internal-client.conf" . | include "template" | indent 4 }}
  container-sync-realms.conf: |
{{ tuple "swift/templates/etc/_container-sync-realms.conf" . | include "template" | indent 4 }}
  dispersion.conf: |
{{ tuple "swift/templates/etc/_dispersion.conf" . | include "template" | indent 4 }}
  drive-audit.conf: |
{{ tuple "swift/templates/etc/_drive-audit.conf" . | include "template" | indent 4 }}
  internal-client.conf: |
{{ tuple "swift/templates/etc/_internal-client.conf" . | include "template" | indent 4 }}
  object-expirer.conf: |
{{ tuple "swift/templates/etc/_object-expirer.conf" . | include "template" | indent 4 }}
  object-server.conf: |
{{ tuple "swift/templates/etc/_object-server.conf" . | include "template" | indent 4 }}
  proxy-server.conf: |
{{ tuple "swift/templates/etc/_proxy-server.conf" . | include "template" | indent 4 }}
  swift.conf: |
{{ tuple "swift/templates/etc/_swift.conf" . | include "template" | indent 4 }}

  # swift-drive-autopilot
  drive-autopilot.yaml: |
{{ tuple "swift/templates/etc/_drive-autopilot.yaml" . | include "template" | indent 4 }}

  # prometheus
  statsd-exporter.conf: |
{{ tuple "swift/templates/etc/_statsd-exporter.conf" . | include "template" | indent 4 }}
